
# 计算机系统概述

## 名词解释

## 计算机发展历程
- 计算机的四代变化
   - 1. *电子管时代。* 特点 ：逻辑元件采用 子管 ；使器语言 程：主存用延迟线或磁鼓存 息， 容量极小； 庞大 ，成本高运算速度较低， 一般只几千到几万次每秒。
   - 2. *晶体管时代。*。特点 逻辑元 晶体管 运算速度提高到几万次 到儿十万 次每秒； 存储器开始使用高级语言。有了操作系统雏形。
   - 3. *中小规模集成电路时代。*。特点 ：逻辑元件采用中小规模集成电路 半导体存储器开始取代磁心存储器； 高级语言发展迅速，操作系统也进步发展，开始有了分时操作系统。
   - 4. *超大规模集成电路时代。* 特点 ：逻辑元件采用大规模集成电路和超大规模集成电路，产生了微处理器；诸如并行、流水线、高速缓存和 虚拟存储器等概念用在了这代计算机中。

### 计算机的分类和发展方向
电子计算机可分为电子模拟计算机和电子数字计算机。

- 数字计算机可以分为专用计算机和通用计算机。
	- 通用计算机分为为巨型机、大型机、中型机、小型机、微型机和单片机六类。

- 按照指令和数据流可以分为：
	1. 单指令流和单数据流系统 SISD ），即传统冯·诺依曼体系结构。
	2. ）单指令流和多数据流系统（ SIMD ），包括阵列处理器和向 处理器系统。
	3. 多指令流和单数据流系统（ MISD ），这种计算机实际上不存在
	4. 多指令流和多数据流系统（ MIMD ），包括多处理器和多计算机系统。

## 计算机层次结构

### 计算机硬件的基本组成

**在计算机系统中如啊案件和硬件在逻辑上是等效的。**

#### 早期冯诺依曼计算机
 **存储程序：** *指令以二进制代码的形式事先输入计算机的主存储器。* 然后按其在存储器中的首地址执行存续的第一条指令，以后就按该程序规定的顺序执行其他指令，直至程序执行结束。 ^0252ff
 
##### 硬件结构
![[Pasted image 20221219153801.png]]


##### 冯诺依曼计算机的特点
1. 计算机由五大部件组成。
2. 指令和数据可以同等地位存于存储器，可按地址寻访。
3. 指令和数据采用二进制表示。
4. 指令由操作码和地址码组成。
5. [[#^0252ff|存储程序]]。
6. 以**运算器为中心。**

#### 现代计算机
**以存储器为中心。**

##### 硬件结构
![[Pasted image 20221219155429.png]]

**CPU=运算器+控制器**
**主机=CPU+主存储器**
![[Pasted image 20221219155537.png]]
![[Pasted image 20221219155712.png]]
**注意：主存是主机的一部分，辅存是I/O设备的一部分。**

#### 功能部件
**各部分功能概述**
- 输入设备(I/O设备)：是将程序和数据以机器所能识别和接受的信息形式输入计算机。例如：键盘、鼠标等。

- 输出设备(I/O设备)：是将计算机处理的结果以人 所能接受的形式或其 系统所要求的信息形式输出 。最常用、最基本的输出设备是显示器、打印机。

- 存储器：存储器是计算机的存储部件，用来存放程序和数据。
	- 存储器分为主存储器（简称主存，也称内存储器）和辅助存储器（简称辅存，也称外存储器。CPU 能够直接访问的存储器是主存储器。辅助存储器 于帮助主存储器记忆更多的信息，辅助存储器中的信息必须调主存后，才能被CPU访问。

储器中的信息必须调入主存后，才能为 CPU 所访

- 运算器：器是计算机的执行部件，用于进行算术运算和逻辑运算。
	>算术运算：+ - * /
	>逻辑运算：与、或、非、异或、比较、移位。

- 控制器：控制器是计算机的指挥中心 由其“指挥”各部件自动协调地进行工作 控制器由程序计数器（ PC ）、指令寄存器 CIR ）和控制单元（ CU ）组成。

##### 主存储器
###### 组成
主存储器由：**地址寄存器(MAR)**、**存储体**、**数据寄存器(MDR)** 三个部分组成。

- **MAR：** MAR 用于寻址，其位数对应着存储单元 个数MAR 10 位，则有 $2^{10}$ 个存储单元，记为 1K。长度与PC相等。
>MAR位数就是机器字长，字长是表示字节地址的位数。4位则表示总共有$2^4$个存储单元。
- **MDR:** MDR 的位数和存储宇长相等， 般为字节的 次幕的整数倍。16位则表示每个存储党员可存放16bit。

*读数据的步骤：经过地址寄存器获取数据的地址，然后到存储体中获取到数据，最后把数据存在数据寄存器中。*

*写数据的步骤：CPU通过控制总线告诉主存当前操作是写操作，同时提供数据和存储的地址，由主存储器进行写入。*

###### 存储体
- **基本结构**
![[Pasted image 20221219161729.png]]
**存储单元：每个存储单元存放一串二进制代码**
**存储字：** 存储单元中二进制代码的组合。
**存储字长：** 存储单元中二进制代码的位数。
**存储元：** 即存储二进制的电子元件，每个存储元可存1 bit。

**字节和字的区别：** 字节是一个单位1一个字节=8比特。字是存储单元中存储位数的多少，是由计算机硬件决定的。

##### 运算器
###### 组成结构
![[Pasted image 20221219163032.png]]
###### ACC
累加器，用于存放操作数，或运算结果。
###### MQ
乘商寄存器，在乘、除运算时，用于存放操作数或运算结果。
###### X
通用的操作数寄存器，用于存放操作数。
###### ALU
算术逻辑单元，通过内部复杂的电路实现算数运算、逻辑运算。是运算器的**核心部件**

##### 控制器
###### 组成结构
![[Pasted image 20221219163408.png]]
###### CU
控制单元，分析指令，给出控制信号。**是控制器的核心**

###### IR
指令寄存器，存放当前执行的指令
###### PC
程序计数器，存放下一条指令地址，有自动加1功能。
###### 完成一条指令的步骤
- 取指令
- 分析指令
- 执行指令

![[Pasted image 20221219163654.png]]

#### 计算机的工作过程
![[Pasted image 20221219164824.png]]
1. 编写高级语言
![[Pasted image 20221219164233.png]]
2.经过8[[CSAPP#2. 程序执行的四个阶段|程序执行的四个阶段]]，后变成**机器语言，** 存放于[[#存储体]]中。
![[Pasted image 20221219164330.png]]
>为什么是按照这个顺序存储的？[[CSAPP#7.3.1 虚拟地址空间]]

3. PC程序计数器指向第一条指令的地址。通过地址总线在MAR中获取。
>(PC)->MAR,(MAR)=0
4. 存储器根据地址寄存器(MAR)的地址找出该地址存放的数据，也就是该地址的指令/数据。然后放在数据寄存器(MDR)上。
>M(MAR)->MDR,导致(MDR)=000001 0000000101
5. 主存储器中的数据寄存器通过数据总线，放在指令寄存器中(IR)。
>(MDR)->IR,(IR)=000001 0000000101
6. 指令中的操作码，送到控制单元(CU)。
>OP(IR)->CU
7. 控制单元CU分析该指令，得知该操作为“取数“，于是在把指令的地址码送达地址寄存器。
>Ad(IR)->MAR,(MAR)=5
8. 主存储器通过地址寄存器中的地址码在存储体中找到数据，并且存放在数据寄存器中。
>M(MAR)->MDR,导致(MDR)=0000000000000010=2
9. 在控制器的作用下，数据寄存器的数据通过数据总线到达累加寄存器(ACC)。
>此时，a=2，已经存放在累加寄存器中。
10.  程序计数器PC自动加一，开始取下一条指令。经过上面步骤取b的值，存放于乘商寄存器MQ中。
11. 把a的值放在通用寄存器X中。
>(ACC)=X,(X)=2
12. 控制单元(CU)通过控制总线告诉，进行乘法运算。
13. 算术逻辑运算单元(ALU),计算之后将结果存放在ACC中。
>(MQ)* (X)->ACC,(ACC)=6。如果乘积过大，则需要借助MQ辅助存储（存放计算结果的低位）。
 
**取指令和分析指令是相同的，分析之后由CU控制接下来的操作。**
![[Pasted image 20221219172305.png]]

#### 总结
![[Pasted image 20221219155934.png]]
![[Pasted image 20221219172403.png]]

**现代计算机常把存储器中的MAR和MDR集成到CPU里，**

### 计算机软件的分类
软件按其功能分类，可分为系统软件和应用软件。
- **系统软件：** 系统软件是一组保证系统、高效、正确运行的基础软件，通常作为系统资源提供给用户使用 。
	 >系统软件主要有操作系统（ OS ）、数据库管理系统 DBMS ）、语言处理程序、分布式软系统、网络软件系统、标准库程序、服务性程序等

- **应用软件：** 应用软件是指用户为解决某个应用领域中的各类问题而编制的程序，如各种科学计算类程程序、工序设计类程序、数据统计与处理程序等。

>注意： 数据库管理系统（ DBMS ）和数据库系统（ DBS ）是有区别的 DBMS 是位于用户和操作系统之间的一层数据管理软件，是系统软件；而 DBS 是指计算机系统中引入数据库后的系 统，一般由数据库、数据库管理系统、数据库管理员（ DBA ）和应用系统构成。

#### 三个级别的语言
1. **机器语言。** 又称二进制代码语言，需要编程人员记忆每条指令的二进制编码。 机器语言是计算机唯一可以直接识别和执行的语言。
2. **汇编语言。** 汇编语言用英文单词或其缩写代替二进制的指令代码，更容易为人 记忆和理解。使用汇编语言编辑的程序，必须经过一个称为汇编程序的系统软件的翻译，将其转换为计算机的机器语言后 ，才能在计算机的硬件系统上执行。
3. **高级语言。** 是为方便程序设计人员写出解决问题的处理方案和解题过程的程序。通常高级语言需要经过**编译程序**编译成汇编语言程序，然后经过汇编操作得到机器语言程序(C、C++)，或利用**解释程序**直接由高级语言翻译成机器语言程序(JS、Py、Shell)。

>**解释程序：** 将高级语言编写的源程序全部语句一次全部翻译成机器语言程序，而后再执行机器语言程序（只需翻译一次）。
>**解释程序：** 将源程序的一条语句翻译成对应于机器语言的语句，并立即执行。紧接着再翻译下一句（每次执行都要翻译）

### 计算机系统的多级层次结构
![[Pasted image 20221222202153.png]]
**下层是上层的基础，上层是下层的拓展。**

## 计算机的性能指标





